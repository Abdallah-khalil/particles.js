/*!
 * A lightweight and dependency-free javascript plugin
 * for particle backgrounds.
 * 
 * @author Marc Br√ºderlin <hello@marcbruederlin.com>
 * @version 0.1.0
 * @license MIT
 * @see https://marcbruederlin.github.io/particles.js/
 */
var Particles=function(t,i){"use strict";function e(t,i){return Object.keys(i).forEach(function(e){t[e]=i[e]}),t}function r(t){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null}var a,s,n,h,o;return a=function(){this.storage=[],this.defaults={maxParticles:100,sizeVariations:3,speed:.5,color:"#ffffff",minDistance:120,connectParticles:!1},this.init=function(a){t.addEventListener("resize",this.resize.bind(this),!1),o=e(this.defaults,a),o.color=r(o.color),n=i.querySelector(o.selector),h=n.getContext("2d"),n.width=t.innerWidth,n.height=t.innerHeight;for(var d=o.maxParticles;d--;)this.storage.push(new s);this.animate()},this.animate=function(){this.draw(),t.requestAnimFrame(this.animate.bind(this))},this.draw=function(){h.clearRect(0,0,n.width,n.height);for(var t=this.storage.length;t--;){var i=this.storage[t];i.draw()}this.update()},this.update=function(){for(var t=this.storage.length;t--;){var i=this.storage[t];if(i.x+=i.vx,i.y+=i.vy,i.x+i.radius>n.width?i.x=i.radius:i.x-i.radius<0&&(i.x=n.width-i.radius),i.y+i.radius>n.height?i.y=i.radius:i.y-i.radius<0&&(i.y=n.height-i.radius),o.connectParticles)for(var e=t+1;e<this.storage.length;e++){var r=this.storage[e];this.distance(i,r)}}},this.distance=function(t,i){var e,r=t.x-i.x,a=t.y-i.y;e=Math.sqrt(r*r+a*a),e<=o.minDistance&&(h.beginPath(),h.strokeStyle="rgba("+o.color.r+", "+o.color.g+", "+o.color.b+", "+(1.2-e/o.minDistance)+")",h.moveTo(t.x,t.y),h.lineTo(i.x,i.y),h.stroke(),h.closePath())},this.resize=function(){n.width=t.innerWidth,n.height=t.innerHeight,this.draw()}},s=function(){this.x=Math.random()*n.width,this.y=Math.random()*n.height,this.vx=Math.random()*o.speed*2-o.speed,this.vy=Math.random()*o.speed*2-o.speed,this.radius=Math.random()*Math.random()*o.sizeVariations,this.draw=function(){h.fillStyle="rgb("+o.color.r+", "+o.color.g+", "+o.color.b+")",h.beginPath(),h.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),h.fill()},this.draw()},t.requestAnimFrame=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(i){t.setTimeout(i,1e3/60)}}(),new a}(window,document);